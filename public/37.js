(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{264:function(t,s,e){"use strict";e.r(s);var r={layout:"admin",middleware:["auth","admin"],metaInfo:{title:"Orders",titleTemplate:"%s | Khodgi"},data:function(){return{order:[],dialog:!1,dialog2:!1,product_sizes:"",itemIndex:"",output:null}},created:function(){var t=this;axios.get("/api/admin/orders/single-order/".concat(this.$route.params.id)).then((function(s){t.order=s.data.order})).catch((function(t){console.log()}))},methods:{printme:function(t){window.print()},getSize:function(t){var s=this;axios.post("/api/admin/orders/get-item-size",{product_id:t.product_id,order_id:this.order.id}).then((function(t){s.product_sizes=t.data.sizes})).catch((function(t){console.log()}))},getItemIndex:function(t){this.itemIndex=this.order.order_items.indexOf(t)},print:function(){this.$htmlToPaper("printMe")}},computed:{subTotal:function(){return parseFloat(this.order.total)+parseFloat(this.order.discount?this.order.discount:0)-parseFloat(this.order.shipping_cost?this.order.shipping_cost:0)},finalTotal:function(){return parseFloat(this.subTotal)-parseFloat(this.order.discount?this.order.discount:0)+parseFloat(this.order.shipping_cost?this.order.shipping_cost:0)}}},i=e(0),_=Object(i.a)(r,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"printable"}},[e("div",{staticClass:"mt-3"},[e("div",{staticClass:"d-flex "},[e("h3",{staticClass:"my-2 float-left"},[t._v("View Order")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"hidden-print-only float-right",attrs:{icon:"",color:"",target:"_blank",to:"/admin/orders/print/"+t.order.id}},[e("v-icon",[t._v("\n                mdi-printer\n            ")])],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("h4",{staticClass:"my-2"},[t._v("Order Details")]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Telephone:")]),t._v(" "),e("td",{staticClass:"pl-5"},[t._v(t._s(t.order.customer_phone))])]),t._v(" "),e("tr",[e("td",[t._v("Email:")]),t._v(" "),e("td",{staticClass:"pl-5"},[t._v(t._s(t.order.customer_email))])]),t._v(" "),e("tr",[e("td",[t._v("Date:")]),t._v(" "),e("td",{staticClass:"pl-5"},[t._v(t._s(t._f("date")(t.order.created_at)))])]),t._v(" "),e("tr",[e("td",{},[t._v("Payment Method:")]),t._v(" "),e("td",{staticClass:"pl-5"},[t._v(t._s(t.order.payment_method))])])])])],1),t._v(" "),e("div",{},[e("v-col",{staticClass:"float-left",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("h4",{staticClass:"my-2"},[t._v("Billing Address")]),t._v(" "),e("tr",[t._v(t._s(t.order.billing_first_name)+" "+t._s(t.order.billing_last_name))]),t._v(" "),e("tr",[t._v(t._s(t.order.billing_address))]),t._v(" "),e("tr",[t._v(t._s(t.order.billing_appartment))]),t._v(" "),e("tr",[t._v(t._s(t.order.billing_city)+" "+t._s(t.order.billing_postal_code))]),t._v(" "),e("tr",[t._v(t._s(t.order.billing_country_region))])]),t._v(" "),e("v-col",{staticClass:"float-right",attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("h4",{staticClass:"my-2"},[t._v("Shipping Address")]),t._v(" "),e("tr",[t._v(t._s(t.order.shipping_first_name)+" "+t._s(t.order.shipping_last_name))]),t._v(" "),e("tr",[t._v(t._s(t.order.shipping_address))]),t._v(" "),e("tr",[t._v(t._s(t.order.shipping_appartment))]),t._v(" "),e("tr",[t._v(t._s(t.order.shipping_city)+" "+t._s(t.order.shipping_postal_code))]),t._v(" "),e("tr",[t._v(t._s(t.order.shipping_country_region))])])],1),t._v(" "),e("div",[e("v-col",{staticClass:"mt-6",attrs:{cols:"12"}},[e("h4",{staticClass:"my-2"},[t._v("Items Ordered")]),t._v(" "),e("v-divider"),t._v(" "),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Product")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Type")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Size")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Unit Price")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Quantity")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Line Total")]),t._v(" "),e("th",{attrs:{width:"8%"}})])]),t._v(" "),e("tbody",t._l(t.order.order_items,(function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.product_name))]),t._v(" "),e("td",[t._v(t._s(s.type))]),t._v(" "),e("td",[t._v(t._s(s.size))]),t._v(" "),e("td",[t._v(t._s(s.currency_symbol)+t._s(s.unit_price))]),t._v(" "),e("td",[t._v(t._s(s.qty))]),t._v(" "),e("td",[t._v(t._s(s.currency_symbol)+t._s(s.line_total))]),t._v(" "),s.size?e("th",["Custom Size"!=s.size?e("div",[e("v-dialog",{attrs:{width:"300px"},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on;return[e("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.getSize(s)}}},i),[e("v-icon",{attrs:{left:""}},[t._v("mdi-tshirt-v")])],1)]}}],null,!0),model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[t._v(" "),e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Size Chart")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.print}},[t._v("Print")])],1),t._v(" "),e("v-card-text",{attrs:{id:"printMe"}},t._l(t.product_sizes,(function(r,i,_){return e("div",{key:_,staticClass:"mt-3"},[e("div",{staticClass:"d-flex justify-center"},[e("strong",{staticClass:"text-center mt-3"},[t._v(" #Order: "+t._s(t.order.id)+" | "+t._s(s.product_name)+" | "+t._s(s.type)+" | "+t._s(s.size))])]),t._v(" "),e("div",{staticClass:"d-flex justify-center"},[e("strong",{staticClass:"text-center mt-3"},[t._v(" "+t._s(i))])]),t._v(" "),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left",attrs:{width:"60%"}},[t._v("Size Attribute")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Size")])])]),t._v(" "),e("tbody",t._l(r,(function(s,r){return e("tr",{key:r},[e("td",[t._v(t._s(s.name))]),t._v(" "),e("td",[t._v(t._s(s.size))])])})),0)]},proxy:!0}],null,!0)})],1)})),0)],1)],1)],1):e("div",[e("v-dialog",{attrs:{width:"300px"},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on;return[e("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.getItemIndex(s)}}},i),[e("v-icon",{attrs:{left:""}},[t._v("mdi-tshirt-v")])],1)]}}],null,!0),model:{value:t.dialog2,callback:function(s){t.dialog2=s},expression:"dialog2"}},[t._v(" "),e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Size Chart")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.print}},[t._v("Print")])],1),t._v(" "),e("v-card-text",{attrs:{id:"printMe"}},[e("div",{staticClass:"d-flex justify-center"},[e("strong",{staticClass:"text-center mt-3"},[t._v(" #Order: "+t._s(t.order.id)+" | "+t._s(s.product_name)+" | "+t._s(s.type)+" | "+t._s(s.size))])]),t._v(" "),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left",attrs:{width:"60%"}},[t._v("Size Attribute")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Size")])])]),t._v(" "),e("tbody",t._l(t.order.order_items[""+t.itemIndex].custom_size,(function(s,r){return e("tr",{key:r},[e("td",[t._v(t._s(r))]),t._v(" "),e("td",[t._v(t._s(s))])])})),0)]},proxy:!0}],null,!0)})],1)],1)],1)],1)]):t._e()])})),0)]},proxy:!0}])})],1),t._v(" "),e("v-col",{staticClass:"float-right",attrs:{cols:"12",sm:"5",md:"5",lg:"5"}},[e("v-simple-table",[e("tbody",{},[e("tr",[e("td",[t._v("Subtotal:")]),t._v(" "),e("td",{staticClass:"pl-5 text-right"},[t._v(t._s(t.order.currency_symbol)+t._s(t.subTotal))])]),t._v(" "),t.order.shipping_cost>0?e("tr",[e("td",[t._v("Shipping Cost:")]),t._v(" "),e("td",{staticClass:"pl-5 text-right"},[t._v(t._s(t.order.currency_symbol)+t._s(t.order.shipping_cost))])]):t._e(),t._v(" "),t.order.discount>0?e("tr",[e("td",[t._v("Discount:")]),t._v(" "),e("td",{staticClass:"pl-5 text-right"},[t._v(t._s(t.order.currency_symbol)+t._s(t.order.discount))])]):t._e(),t._v(" "),e("tr",[e("td",[e("strong",[t._v("Total:")])]),t._v(" "),e("td",{staticClass:"pl-5 text-right"},[e("strong",[t._v(t._s(t.order.currency_symbol)+t._s(t.finalTotal))])])])])])],1)],1)])}),[],!1,null,null,null);s.default=_.exports}}]);