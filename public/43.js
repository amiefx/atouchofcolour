(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{280:function(e,r,o){"use strict";o.r(r);var s={layout:"mardom",middleware:["guest"],name:"About",metaInfo:{title:"Login",titleTemplate:"%s | Khodgi"},data:function(){return{form:{email:"",password:"",password_confirmation:"",token:""},text:"",loading:!1,snackbar:!1,showPassword:!1,showPassword2:!1,valid:!0,rules:{required:function(e){return!!e||"This Field is Required"},min:function(e){return e.length>=3||"Minimum 5 Chracters Required"},minpass:function(e){return e.length>=8||"Minimum 8 Chracters Required"},validEmail:function(e){return/.+@.+\..+/.test(e)||"Email must be valid"}}}},created:function(){this.form.email=this.$route.query.email,this.form.token=this.$route.query.token},computed:{passwordMatch:function(){return this.form.password==this.form.password_confirmation||"Password does Not Match"}},methods:{submit:function(){var e=this;axios.interceptors.request.use((function(r){return e.loading=!0,r}),(function(r){return e.loading=!1,Promise.reject(r)})),axios.interceptors.response.use((function(r){return e.loading=!1,r}),(function(r){return e.loading=!1,Promise.reject(r)})),axios.post("/api/password/reset",{email:this.form.email,password:this.form.password,password_confirmation:this.form.password_confirmation,token:this.form.token}).then((function(r){"Administrator"==e.$auth.user.role?e.$router.replace({name:"dashboard"}):e.$router.replace({name:"account"})})).catch((function(r){e.text=r.response.data.errors.email[0],e.snackbar=!0}))}}},t=o(0),a=Object(t.a)(s,(function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("v-container",[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"5"}},[o("v-card",{staticClass:"elevation-12"},[o("v-progress-linear",{attrs:{active:e.loading,indeterminate:e.loading,absolute:"",top:"",color:"primary"}}),e._v(" "),o("v-toolbar",{attrs:{color:"",flat:""}},[o("v-toolbar-title",[e._v("Reset Password")])],1),e._v(" "),o("v-form",{attrs:{method:"post"},on:{submit:function(r){return r.preventDefault(),e.submit(r)}},model:{value:e.valid,callback:function(r){e.valid=r},expression:"valid"}},[o("v-card-text",[o("v-text-field",{attrs:{label:"Email",rules:[e.rules.required,e.rules.validEmail],name:"login","prepend-icon":"mdi-account-circle",type:"text",disabled:"",required:""},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}}),e._v(" "),o("v-text-field",{attrs:{id:"password",label:"New Password",rules:[e.rules.required,e.rules.minpass],name:"password","prepend-icon":"mdi-lock",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",required:""},on:{"click:append":function(r){e.showPassword=!e.showPassword}},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}}),e._v(" "),o("v-text-field",{attrs:{id:"password_confirmation",label:"Confirm Password",rules:[e.rules.required,e.passwordMatch],name:"password_confirmation","prepend-icon":"mdi-lock",type:e.showPassword2?"text":"password","append-icon":e.showPassword2?"mdi-eye":"mdi-eye-off",required:""},on:{"click:append":function(r){e.showPassword2=!e.showPassword2}},model:{value:e.form.password_confirmation,callback:function(r){e.$set(e.form,"password_confirmation",r)},expression:"form.password_confirmation"}})],1),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),e.loading?e._e():o("v-btn",{attrs:{color:"primary",block:"",disabled:!e.valid,type:"submit"}},[e._v("Reset Password")])],1)],1)],1),e._v(" "),o("v-snackbar",{model:{value:e.snackbar,callback:function(r){e.snackbar=r},expression:"snackbar"}},[e._v("\n      "+e._s(e.text)+"\n      "),o("v-btn",{attrs:{color:"white",text:""},on:{click:function(r){e.snackbar=!1}}},[e._v("\n          Close\n      ")])],1)],1)],1)],1)}),[],!1,null,null,null);r.default=a.exports}}]);